<div class="card mb-3">
  <div class="card-body">
    <div class="d-flex flex-row w-100 justify-content-between align-items-center">
      <div class="d-flex flex-row align-items-center justify-content-start flex-1" >
        <i class="material-icons m-0 mr-3" [ngClass]="{ 'text-success': user.isSelf }">account_circle</i>
        <p class="font-serif m-0">
          {{ user.name }} <span class="text-muted">{{ user.email }}</span>
        </p>
      </div>

      <ng-container *ngIf="canEdit; else elseTemplate">
        <div ngbDropdown class="d-flex" placement="bottom-right">
          <button class="badge badge-secondary border-0" id="roleSelect" ngbDropdownToggle>
            {{ user.role | titlecase }}
          </button>
          <div ngbDropdownMenu>
            <button *ngFor="let role of projectRoles" class="dropdown-item" (click)="edit.emit(withRole(user, role))" >{{ role | titlecase }}</button>
          </div>
        </div>
      </ng-container>
      <ng-template #elseTemplate>
        <span class="badge badge-secondary">{{ user.role | titlecase }}</span>
      </ng-template>

      <button *ngIf="canDelete" class="ml-3 btn bg-transparent text-dark btn-sm" style="max-height: 2rem" (click)="remove.emit(user)">
        <i class="material-icons" style="font-size: 1.25rem">close</i>
      </button>
    </div>
  </div>
</div>
